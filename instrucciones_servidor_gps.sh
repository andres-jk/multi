#!/bin/bash
echo "ğŸš€ DESPLEGAR GPS FUNCIONAL EN SERVIDOR"
echo "======================================"

echo "ğŸ“‹ INSTRUCCIONES PARA EL SERVIDOR:"
echo ""
echo "1. ğŸ” Conectarse al servidor:"
echo "   ssh usuario@tu-servidor.com"
echo ""
echo "2. ğŸ“ Ir al directorio del proyecto:"
echo "   cd /ruta/al/proyecto/MultiAndamios"
echo ""
echo "3. ğŸ“¥ Descargar cambios:"
echo "   git pull origin main"
echo ""
echo "4. ğŸ”„ Reiniciar servicios (si es necesario):"
echo "   sudo systemctl restart gunicorn"
echo "   sudo systemctl restart nginx"
echo ""
echo "5. âœ… Verificar que funciona:"
echo "   - Ve a: https://tu-dominio.com/panel/entregas/seguimiento/17/"
echo "   - Inicia sesiÃ³n como empleado de recibos"
echo "   - Permite acceso a geolocalizaciÃ³n"
echo "   - Haz clic en 'ACTUALIZAR GPS'"
echo ""
echo "ğŸŒ CARACTERÃSTICAS DEL GPS IMPLEMENTADO:"
echo "â€¢ âœ… Mapa OpenStreetMap (gratuito, sin API keys)"
echo "â€¢ âœ… GeolocalizaciÃ³n en tiempo real"
echo "â€¢ âœ… Auto-actualizaciÃ³n cada 30 segundos"
echo "â€¢ âœ… Marcadores de vehÃ­culo y destino"
echo "â€¢ âœ… Coordenadas guardadas en base de datos"
echo "â€¢ âœ… Compatible con todos los navegadores"
echo "â€¢ âœ… Funciona en HTTPS"
echo ""
echo "ğŸ“± URLS DISPONIBLES:"
echo "â€¢ /panel/entregas/panel/ - Panel principal de entregas"
echo "â€¢ /panel/entregas/seguimiento/[ID]/ - GPS en tiempo real"
echo "â€¢ API: /panel/entregas/api/actualizar-ubicacion/"
echo ""
echo "ğŸ‘¥ USUARIOS CON ACCESO:"
echo "â€¢ Empleados con rol 'recibos_obra'"
echo "â€¢ Administradores con rol 'admin'"
echo ""
echo "ğŸ¯ ESTADOS DE ENTREGA CON GPS:"
echo "â€¢ 'en_camino' - Auto-actualizaciÃ³n activada"
echo "â€¢ 'programada' - GPS manual disponible"
echo "â€¢ 'entregada' - GPS de solo lectura"
echo ""
echo "ğŸ”§ TROUBLESHOOTING:"
echo "â€¢ Si no aparece el mapa: Verificar conexiÃ³n a internet"
echo "â€¢ Si no actualiza GPS: Verificar permisos de geolocalizaciÃ³n"
echo "â€¢ Si error de HTTPS: GPS requiere conexiÃ³n segura en producciÃ³n"
echo ""
echo "ğŸ‰ Â¡GPS FUNCIONAL LISTO PARA USAR!"
